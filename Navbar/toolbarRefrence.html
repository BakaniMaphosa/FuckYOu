<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Rich Text Editor - Vertical Inserter</title>
    <style>
        body { background: #f8f9fa; font-family: 'Segoe UI', sans-serif; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        
        /* Toolbar */
        .toolbar { 
            background: white; padding: 8px 15px; border: 1px solid #dfe1e5; 
            border-radius: 24px; width: fit-content; display: flex; gap: 8px; align-items: center;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1); position: sticky; top: 10px; z-index: 100;
        }

        /* The vertical separator used inside the toolbar itself */
        .toolbar-separator { width: 1px; height: 20px; background: #dadce0; margin: 0 5px; }

        /* The Editor */
        #editor { 
            width: 850px; min-height: 800px; background: white; border: 1px solid #dfe1e5; 
            margin-top: 20px; padding: 80px; outline: none; font-size: 16px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1); line-height: 1.6;
        }

        /* THE CLASS FOR THE LINE INSIDE THE TEXT */
        .v-line {
            display: inline-block;
            width: 2px;
            height: 1.2em; /* Matches the text height */
            background-color: #cbd5e0;
            margin: 0 10px;
            vertical-align: middle;
        }

        button { 
            border: none; background: transparent; padding: 6px 10px; 
            border-radius: 4px; cursor: pointer; font-size: 14px; color: #444;
        }

        button:hover { background: #f1f3f4; }
        .insert-v-btn { font-weight: bold; color: #1a73e8; }
    </style>
</head>
<body>

<div class="toolbar">
    <select onchange="execCmd('fontName', this.value)">
        <option value="Arial">Arial</option>
        <option value="Georgia">Georgia</option>
    </select>
    
    <div class="toolbar-separator"></div>

    <button onclick="modifySize(-2)">-</button>
    <span id="size-label">16px</span>
    <button onclick="modifySize(2)">+</button>

    <div class="toolbar-separator"></div>

    <button onclick="execCmd('bold')"><b>B</b></button>
    <button onclick="execCmd('italic')"><i>I</i></button>

    <div class="toolbar-separator"></div>

    <button class="insert-v-btn" onclick="insertVerticalLine()" title="Insert Vertical Divider">|</button>

    <div class="toolbar-separator"></div>

    <button onclick="execCmd('justifyLeft')">L</button>
    <button onclick="execCmd('justifyCenter')">C</button>
    <button onclick="execCmd('justifyRight')">R</button>
</div>

<div id="editor" contenteditable="true">
    <p>You can now insert a vertical line between words <span class="v-line"></span> like this!</p>
</div>

<script>
    let currentFontSize = 16;

    function execCmd(command, value = null) {
        document.execCommand(command, false, value);
    }

    // Function to insert the specific div you requested
    function insertVerticalLine() {
        const selection = window.getSelection();
        if (selection.rangeCount > 0) {
            const range = selection.getRangeAt(0);
            
            // Create the div element
            const vLine = document.createElement('div');
            vLine.className = 'v-line';
            
            // Allow the cursor to move past it easily by adding a space after
            const space = document.createTextNode('\u00A0'); 

            range.deleteContents();
            range.insertNode(space);
            range.insertNode(vLine);
            
            // Move cursor to after the inserted line
            range.setStartAfter(space);
            range.setEndAfter(space);
            selection.removeAllRanges();
            selection.addRange(range);
        }
    }

    function modifySize(step) {
        currentFontSize += step;
        if (currentFontSize < 8) currentFontSize = 8;
        document.getElementById('size-label').innerText = currentFontSize + "px";
        
        execCmd("fontSize", "7");
        document.querySelectorAll("font[size='7']").forEach(span => {
            span.removeAttribute("size");
            span.style.fontSize = currentFontSize + "px";
        });
    }
</script>

</body>
</html>